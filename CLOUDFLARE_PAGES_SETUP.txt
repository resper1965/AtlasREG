â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                              â•‘
â•‘              CLOUDFLARE PAGES - SETUP DO FRONTEND                            â•‘
â•‘                                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Data: 20 de Outubro de 2025
Frontend: Next.js 15
DomÃ­nio: atlasREG.ness.tec.br

================================================================================
STATUS ATUAL
================================================================================

Frontend:
âœ“ CÃ³digo Next.js: apps/web/
âœ“ Rodando local: http://localhost:3100
âœ“ Container Docker: atlasreg-web
âœ“ No GitHub: https://github.com/resper1965/AtlasREG/tree/main/apps/web

Cloudflare Pages:
âŒ NÃƒO CRIADO (precisa fazer deploy)

================================================================================
DEPLOY CLOUDFLARE PAGES - 3 OPÃ‡Ã•ES
================================================================================

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
OPÃ‡ÃƒO 1: VIA GITHUB (RECOMENDADO - AUTO-DEPLOY)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Vantagem: Deploy automÃ¡tico a cada push no GitHub

Passos:

1. Acesse Cloudflare Dashboard:
   https://dash.cloudflare.com/

2. Workers & Pages â†’ Create application â†’ Pages

3. Connect to Git:
   - Selecione: GitHub
   - Autorize acesso (se necessÃ¡rio)
   - Selecione repositÃ³rio: resper1965/AtlasREG

4. Configure build settings:
   
   Project name: atlasreg-frontend
   Production branch: main
   
   Build settings:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Framework preset: Next.js                       â”‚
   â”‚ Build command: cd apps/web && npm install &&    â”‚
   â”‚                npm run build                    â”‚
   â”‚ Build output directory: apps/web/.next          â”‚
   â”‚ Root directory: / (leave empty)                 â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

5. Environment variables:
   Nome: NEXT_PUBLIC_API_URL
   Valor: https://api.atlasREG.ness.tec.br

6. Save and Deploy

7. Aguardar build (~3-5 min)

8. URL disponÃ­vel: https://atlasreg-frontend.pages.dev

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
OPÃ‡ÃƒO 2: VIA WRANGLER CLI (DEPLOY MANUAL)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Vantagem: Controle total, deploy quando quiser

Comandos:

# 1. Build do frontend
cd /home/resper/nSaulo/apps/web
npm install
npm run build

# 2. Deploy no Pages
npx wrangler pages deploy .next --project-name=atlasreg-frontend

# 3. (Primeira vez) Configurar project
# Wrangler vai perguntar:
# - Create a new project? Yes
# - Project name? atlasreg-frontend

# 4. URL disponÃ­vel
# https://atlasreg-frontend.pages.dev

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
OPÃ‡ÃƒO 3: VIA SCRIPT AUTOMÃTICO
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Criamos um script para facilitar:

./DEPLOY_PAGES.sh

Ou manualmente:
bash /home/resper/nSaulo/DEPLOY_PAGES.sh

================================================================================
CONFIGURAR DOMÃNIO CUSTOMIZADO
================================================================================

ApÃ³s deploy no Pages:

1. Cloudflare Dashboard â†’ Pages â†’ atlasreg-frontend

2. Custom domains â†’ Set up a custom domain

3. Adicionar domÃ­nio: atlasREG.ness.tec.br

4. Cloudflare vai:
   âœ“ Criar DNS CNAME automaticamente
   âœ“ Provisionar certificado SSL
   âœ“ Configurar redirect HTTP â†’ HTTPS

5. Aguardar propagaÃ§Ã£o (~5 min)

6. Acessar: https://atlasREG.ness.tec.br

PRONTO! Frontend no ar com domÃ­nio customizado.

================================================================================
CONFIGURAÃ‡ÃƒO RECOMENDADA
================================================================================

Environment Variables (Pages):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

NEXT_PUBLIC_API_URL=https://api.atlasREG.ness.tec.br

Build Settings:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Build command:
cd apps/web && npm install && npm run build

Build output directory:
apps/web/.next

Root directory:
/ (ou deixar vazio)

Node version:
22.x (ou 20.x)

================================================================================
APÃ“S DEPLOY
================================================================================

URLs DisponÃ­veis:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

TemporÃ¡ria (Pages.dev):
https://atlasreg-frontend.pages.dev

ProduÃ§Ã£o (DomÃ­nio customizado):
https://atlasREG.ness.tec.br

Preview (para cada commit):
https://[commit-hash].atlasreg-frontend.pages.dev

Verificar:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# Health check
curl -I https://atlasreg-frontend.pages.dev

# Verificar domÃ­nio customizado
curl -I https://atlasREG.ness.tec.br

================================================================================
TROUBLESHOOTING
================================================================================

Build falha:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- Verificar Node version (usar 20.x ou 22.x)
- Verificar package.json existe em apps/web/
- Verificar build command estÃ¡ correto

404 Not Found:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- Verificar build output directory: apps/web/.next
- Next.js deve estar em modo standalone ou static export

DomÃ­nio nÃ£o resolve:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- Aguardar propagaÃ§Ã£o DNS (5-30 min)
- Verificar CNAME foi criado automaticamente
- Verificar em: https://dnschecker.org/

SSL Error:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- Aguardar provisionamento certificado (~5 min)
- Cloudflare gera SSL automaticamente

================================================================================
COMPARAÃ‡ÃƒO DAS OPÃ‡Ã•ES
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 â”‚ GitHub CI/CD â”‚ Wrangler CLI â”‚ Manual Uploadâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Auto-deploy     â”‚      âœ“       â”‚      âœ—       â”‚      âœ—       â”‚
â”‚ Preview builds  â”‚      âœ“       â”‚      âœ—       â”‚      âœ—       â”‚
â”‚ FÃ¡cil rollback  â”‚      âœ“       â”‚      âœ—       â”‚      âœ—       â”‚
â”‚ Controle manual â”‚      âœ—       â”‚      âœ“       â”‚      âœ“       â”‚
â”‚ Sem dependÃªncia â”‚      âœ—       â”‚      âœ“       â”‚      âœ“       â”‚
â”‚ Build remoto    â”‚      âœ“       â”‚      âœ—       â”‚      âœ—       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

RecomendaÃ§Ã£o: GitHub CI/CD (OpÃ§Ã£o 1)

================================================================================
CUSTO
================================================================================

ğŸ’° $0/mÃªs (FREE TIER)

Cloudflare Pages Free:
- Unlimited requests
- Unlimited bandwidth
- 500 builds/month
- 1 concurrent build
- Custom domains
- SSL/TLS certificates
- Preview deployments

================================================================================
PRÃ“XIMOS PASSOS
================================================================================

AGORA:
â”€â”€â”€â”€â”€â”€
â˜ 1. Escolher mÃ©todo de deploy (recomendo GitHub)
â˜ 2. Fazer deploy inicial
â˜ 3. Verificar URL temporÃ¡ria
â˜ 4. Configurar domÃ­nio customizado
â˜ 5. Testar https://atlasREG.ness.tec.br

DEPOIS:
â”€â”€â”€â”€â”€â”€â”€
â˜ Deploy Workers (se ainda nÃ£o fez)
â˜ Configurar DNS completo
â˜ Testar integraÃ§Ã£o frontend â†” API

================================================================================
COMANDO RÃPIDO
================================================================================

Para deploy via GitHub (Recomendado):
ğŸ‘‰ Acesse: https://dash.cloudflare.com/
ğŸ‘‰ Workers & Pages â†’ Create â†’ Connect to Git
ğŸ‘‰ Selecione: resper1965/AtlasREG

Para deploy via CLI:
ğŸ‘‰ Execute: ./DEPLOY_PAGES.sh
ğŸ‘‰ Ou: cd apps/web && npm run build && npx wrangler pages deploy .next

================================================================================
RESUMO
================================================================================

Status Atual:
âŒ Cloudflare Pages NÃƒO criado
âœ“ Frontend Next.js pronto
âœ“ CÃ³digo no GitHub

AÃ§Ã£o NecessÃ¡ria:
Fazer deploy do frontend no Cloudflare Pages

Tempo Estimado:
5-10 minutos (primeira vez)

Custo:
$0/mÃªs (FREE)

Resultado:
Frontend acessÃ­vel em https://atlasREG.ness.tec.br

================================================================================
Powered by: ness.
Email: resper@ness.com.br
RepositÃ³rio: https://github.com/resper1965/AtlasREG
================================================================================

